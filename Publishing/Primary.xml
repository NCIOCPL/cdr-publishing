<?xml version="1.0" encoding="utf-8"?>
<PublishingSystem xmlns:cdr="cips.nci.nih.gov/cdr">

 <SystemName>Primary</SystemName>
 <SystemDescription>
   Used for producing documents for PDQ data partners and Cancer.gov.
 </SystemDescription>

 <SystemSubset>
  <SubsetName>Hotfix-Export</SubsetName>
  <SubsetDescription>
    Filter and validate manually entered documents and push them to Cancer.gov.
    You have the option to interrupt the process by cancelling the push.

    Note:  This option is used for updates only.  Use Hotfix-Remove to delete
           documents from Cancer.gov.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Hotfix (Export)</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ReportOnly</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ValidateDocs</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>DTDFileName</ParmName>
    <ParmValue>pdqCG.dtd</ParmValue>
   </SubsetParameter>

   <SubsetParameter>
    <ParmName>AbortOnError</ParmName>
    <ParmValue>50</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>MaxDocUpdatedDate</ParmName>
    <ParmValue>JobStartDateTime</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
  </SubsetParameters>

  <SubsetSpecifications>

   <!--
   ========================================================================
   DrugInformationSummary documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>DIS</SpecificationName>
    <SubsetSelection>
     <UserSelect>
      <UserSelectDoctype>DrugInformationSummary</UserSelectDoctype>
     </UserSelect>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor DrugInfoSummary Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
   </SubsetSpecification>

   <!--
   ========================================================================
   GeneticsProfessional documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>GP</SpecificationName>
    <SubsetSelection>
     <UserSelect>
      <UserSelectDoctype>Person</UserSelectDoctype>
     </UserSelect>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor GeneticsProfessional Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
   </SubsetSpecification>

   <!--
   ========================================================================
   GlossaryTerm documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Glossary</SpecificationName>
    <SubsetSelection>
     <UserSelect>
      <UserSelectDoctype>GlossaryTermName</UserSelectDoctype>
     </UserSelect>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor GlossaryTerm Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
   </SubsetSpecification>

   <!--
   ========================================================================
   Media documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Media</SpecificationName>
    <SubsetSelection>
     <UserSelect>
      <UserSelectDoctype>Media</UserSelectDoctype>
     </UserSelect>
    </SubsetSelection>
   </SubsetSpecification>

   <!--
   ========================================================================
   Summary documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Summary</SpecificationName>
    <SubsetSelection>
     <UserSelect>
      <UserSelectDoctype>Summary</UserSelectDoctype>
     </UserSelect>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor Summary Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
   </SubsetSpecification>

   <!--
   ========================================================================
   Term documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Term</SpecificationName>
    <SubsetSelection>
     <UserSelect>
      <UserSelectDoctype>Term</UserSelectDoctype>
     </UserSelect>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor Term Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
   </SubsetSpecification>

  </SubsetSpecifications>

  <SubsetOptions>
   <SubsetOption>
    <OptionName>Destination</OptionName>
    <OptionValue>d:/cdr/Output</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>AbortOnError</OptionName>
    <OptionValue>10</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>

 </SystemSubset>

 <SystemSubset>
  <SubsetName>Push_Documents_To_Cancer.Gov_Hotfix-Export</SubsetName>
  <SubsetDescription>
    Initiate a push of the documents prepared by the latest Hotfix-Export.

    Use this option if the Hotfix-Export process was unable to create the
    push job automatically due to an already existing, incomplete push job
    or a previously cancelled push job.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>SubSetName</ParmName>
    <ParmValue>Hotfix-Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Hotfix (Export)</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PushAllDocs</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>IgnoreGKJobIDMismatch</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>
   <SubsetSpecification>
    <SubsetSelection/>
   </SubsetSpecification>
  </SubsetSpecifications>
  <SubsetOptions>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Push_Documents_To_Cancer.Gov_Republish-Export</SubsetName>
  <SubsetDescription>
    Initiate a push of the documents prepared by the latest Republish-Export.

    Use this option if the Republish-Export process was unable to create the
    push job automatically due to an already existing, incomplete push job.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>SubSetName</ParmName>
    <ParmValue>Republish-Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Reload</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PushAllDocs</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>RerunFailedPush</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>IgnoreGKJobIDMismatch</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>
   <SubsetSpecification>
    <SubsetSelection/>
   </SubsetSpecification>
  </SubsetSpecifications>
  <SubsetOptions>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Interim-Export</SubsetName>
  <SubsetDescription>
    Produce daily, incremental document updates and push them to Cancer.gov.

    Some differences from the regular Export job include:
    Produce all active CT.gov protocols and terminology, like Export.
    Select only new documents of the other document types.
    Documents will be pushed without operator intervention.

    Note:  Run the 'Jobmaster Nightly' scheduled job if you need to run all
           of the steps of the nightly publishing event.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ReportOnly</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ValidateDocs</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>DTDFileName</ParmName>
    <ParmValue>pdqCG.dtd</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>AbortOnError</ParmName>
    <ParmValue>250</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>NumDocsPerDocType</ParmName>
    <ParmValue></ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>MaxDocUpdatedDate</ParmName>
    <ParmValue>JobStartDateTime</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue>Interim-Export submitted manually</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>MaxSummaryErrors</ParmName>
    <ParmValue>0</ParmValue>
   </SubsetParameter>
  </SubsetParameters>

  <SubsetSpecifications>

   <!--
   ========================================================================
   All DrugInformation Summary for which no version is currently on Cancer.gov
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>DIS</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocsPerDocType? v.id, MAX(v.num)
        FROM doc_version v
        JOIN active_doc d
          ON v.id = d.id
        JOIN doc_type t
          ON t.id = v.doc_type
       WHERE t.name = 'DrugInformationSummary'
         AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
         AND v.id NOT IN (SELECT id FROM pub_proc_cg)
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
       GROUP BY v.id
       ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor DrugInfoSummary Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
    <Subdirectory>DrugInfoSummary</Subdirectory>
   </SubsetSpecification>

   <!--
   ========================================================================
   All GlossaryTerm for which no version is currently on Cancer.gov
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Glossary</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocsPerDocType? v.id, MAX(v.num)
        FROM doc_version v
        JOIN active_doc d
          ON v.id = d.id
        JOIN query_term_pub q
          ON q.doc_id = d.id
       WHERE q.path = '/GlossaryTermName/TermNameStatus'
         AND (q.value = 'Approved'
          OR  q.value = 'Revision pending')
         AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
         AND v.id NOT IN (SELECT id FROM pub_proc_cg)
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
       GROUP BY v.id
       ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor GlossaryTerm Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
    <Subdirectory>GlossaryTerm</Subdirectory>
   </SubsetSpecification>

   <!--
   ========================================================================
   All Media docs for which no version is currently on Cancer.gov,
   which are referenced by another doc, and are not marked for Internal use
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Media</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
         SELECT TOP ?NumDocsPerDocType? v.id, MAX(v.num)
           FROM doc_version v
           JOIN active_doc d
             ON v.id = d.id
           JOIN doc_type t
             ON t.id = v.doc_type
           JOIN query_term_pub p
             ON p.doc_id = v.id
           JOIN query_term_pub q
             ON q.int_val = d.id
LEFT OUTER JOIN query_term_pub u
             ON u.doc_id = d.id
            AND u.path = '/Media/@Usage'
          WHERE t.name = 'Media'
            AND p.path IN ('/Media/PhysicalMedia/ImageData/ImageEncoding',
                           '/Media/PhysicalMedia/SoundData/SoundEncoding')
            AND q.path LIKE '%/@cdr:%ref'
            AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
            AND v.id NOT IN (SELECT id FROM pub_proc_cg)
            AND (u.value = 'External'
                 OR
                 u.value IS NULL)  -- excluding @Usage='Internal'
            AND v.publishable = 'Y'
            AND v.val_status = 'V'
          GROUP BY v.id
          ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <Subdirectory>Media</Subdirectory>
   </SubsetSpecification>

   <!--
   ========================================================================
   All Summaries for which there is currently no version on Cancer.gov.
   This version of the SQL query selects first all summaries that were new
   and pushed to Gatekeeper but failed to load on Gatekeeper (their version
   is marked as 'Failed' but the document is already stored in the
   pub_proc_cg table).
   The second part of the union selects all new documents (not yet stored
   in the pub_proc_cg table) but excludes summaries marked as ModuleOnly.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Summary</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocsPerDocType? v.id, v.num
        FROM publishable_version v
        JOIN doc_type t
          ON t.id = v.doc_type
        JOIN (SELECT v.id, MAX(v.num) AS num
                FROM publishable_version v
                JOIN active_doc a
                  ON a.id = v.id
               WHERE v.updated_dt &lt;= '?MaxDocUpdatedDate?'
               GROUP BY v.id) AS p
          ON v.id = p.id
         AND v.num = p.num
       WHERE t.name = 'Summary'
         AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
         AND v.id NOT IN (
                          SELECT doc_id
                            FROM query_term_pub
                           WHERE path = '/Summary/WillReplace/@cdr:ref'
         )
         AND (v.id IN
                      (SELECT DISTINCT ppc.id
                         FROM pub_proc_cg ppc
                         JOIN pub_proc_doc ppd
                           ON ppc.id = ppd.doc_id
                         JOIN pub_proc pp
                           ON ppd.pub_proc = pp.id
                          AND pp.pub_subset LIKE 'Push_%'
                        WHERE ppd.failure = 'Y'
                          AND NOT EXISTS (SELECT 'x'
                                            FROM pub_proc_doc i
                                            JOIN pub_proc ipp
                                              ON ipp.id = i.pub_proc
                                             AND ipp.pub_subset LIKE 'Push_%'
                                           WHERE i.doc_id = ppd.doc_id
                                             AND i.failure IS NULL
                                         )
                      )
               )
         AND v.id NOT IN (SELECT doc_id
                            FROM query_term_pub
                           WHERE path = '/Summary/@ModuleOnly'
                             AND value = 'Yes'
                         )
   UNION
      SELECT v.id, v.num
        FROM publishable_version v
        JOIN doc_type t
          ON t.id = v.doc_type
        JOIN (SELECT v.id, MAX(v.num) AS num
                FROM publishable_version v
                JOIN active_doc a
                  ON a.id = v.id
               WHERE v.updated_dt &lt;= '?MaxDocUpdatedDate?'
               GROUP BY v.id) AS p
          ON v.id = p.id
         AND v.num = p.num
       WHERE t.name = 'Summary'
         AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
         AND v.id NOT IN (
                          SELECT doc_id
                            FROM query_term_pub
                           WHERE path = '/Summary/WillReplace/@cdr:ref'
                         )
         AND v.id NOT IN (SELECT id FROM pub_proc_cg)
         AND v.id NOT IN (SELECT doc_id
                            FROM query_term_pub
                           WHERE path = '/Summary/@ModuleOnly'
                             AND value = 'Yes'
                         )
   ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor Summary Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
    <Subdirectory>Summary</Subdirectory>
   </SubsetSpecification>

   <!--
   ========================================================================
   Term documents.
   This is a full publishing run for these docs, just like the general
   Export subset.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Term</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocsPerDocType? v.id, MAX(v.num)
        FROM doc_version v
        JOIN active_doc d
          ON d.id = v.id
        JOIN query_term_pub q
          ON q.doc_id = d.id
       WHERE q.path = '/Term/TermStatus'
         AND q.value IN ('Reviewed-Problematic',
                         'Reviewed-Retain',
                         'Unreviewed')
         AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
    GROUP BY v.id
    ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor Term Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
    <Subdirectory>Terminology</Subdirectory>
   </SubsetSpecification>

  </SubsetSpecifications>
  <SubsetOptions>
   <SubsetOption>
    <OptionName>Destination</OptionName>
    <OptionValue>d:/cdr/Output</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>AbortOnError</OptionName>
    <OptionValue>100</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>

 </SystemSubset>

 <SystemSubset>
  <SubsetName>Push_Documents_To_Cancer.Gov_Interim-Export</SubsetName>
  <SubsetDescription>
    Push documents prepared by the latest Interim-Export job to Cancer.gov.
    Documents will be pushed without operator intervention.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>SubSetName</ParmName>
    <ParmValue>Interim-Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PushAllDocs</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>RerunFailedPush</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>IgnoreGKJobIDMismatch</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue>Push Interim-Export submitted manually</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>
   <SubsetSpecification>
    <SubsetSelection/>
   </SubsetSpecification>
  </SubsetSpecifications>
  <SubsetOptions>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Full-Load</SubsetName>
  <SubsetDescription>
    Filter, validate and push all publishable documents to produce
    documents for PDQ data partners and push all documents to Cancer.gov.
    (DIS, GP, Glossary, Media, Summary, Terminology)

    Note:  This option is only to be used in case of a disaster.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Full Load</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ReportOnly</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ValidateDocs</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>DTDFileName</ParmName>
    <ParmValue>pdqCG.dtd</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>AbortOnError</ParmName>
    <ParmValue>500</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>NumDocsPerDocType</ParmName>
    <ParmValue></ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>MaxDocUpdatedDate</ParmName>
    <ParmValue>JobStartDateTime</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>GateKeeper</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>

   <!--
   ========================================================================
   DrugInformationSummary documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>DIS</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocsPerDocType? v.id, v.num
        FROM doc_version v
        JOIN doc_type t
          ON t.id = v.doc_type
        JOIN (SELECT v.id, MAX(v.num) AS num
                FROM doc_version v
                JOIN active_doc a
                  ON a.id = v.id
               WHERE v.updated_dt &lt;= '?MaxDocUpdatedDate?'
                 AND v.publishable = 'Y'
                 AND v.val_status = 'V'
               GROUP BY v.id) AS p
          ON v.id = p.id
         AND v.num = p.num
       WHERE t.name = 'DrugInformationSummary'
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
    ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor DrugInfoSummary Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
    <Subdirectory>DrugInfoSummary</Subdirectory>
   </SubsetSpecification>

   <!--
   ========================================================================
   GeneticsProfessional documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>GP</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocsPerDocType? d.id, MAX(v.num)
        FROM doc_version v
        JOIN active_doc d
          ON d.id = v.id
        JOIN doc_type t
          ON t.id = v.doc_type
        JOIN query_term_pub g
          ON g.doc_id = d.id
         AND g.path = '/Person/ProfessionalInformation' +
                      '/GeneticsProfessionalDetails'    +
                      '/AdministrativeInformation'      +
                      '/Directory/Include'
       WHERE t.name = 'Person'
         AND g.value = 'Include'
         AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
    GROUP BY d.id
    ORDER BY d.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor GeneticsProfessional Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
    <Subdirectory>GeneticsProfessional</Subdirectory>
   </SubsetSpecification>

   <!--
   ========================================================================
   GlossaryTerm documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Glossary</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocsPerDocType? v.id, MAX(v.num)
        FROM doc_version v
        JOIN active_doc d
          ON d.id = v.id
        JOIN query_term_pub q
          ON q.doc_id = d.id
       WHERE q.path = '/GlossaryTermName/TermNameStatus'
         AND (q.value = 'Approved'
          OR  q.value = 'Revision pending')
         AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
    GROUP BY v.id
    ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor GlossaryTerm Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
    <Subdirectory>GlossaryTerm</Subdirectory>
   </SubsetSpecification>

   <!--
   ========================================================================
   Media documents
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Media</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
         SELECT TOP ?NumDocsPerDocType? v.id, MAX(v.num)
           FROM doc_version v
           JOIN active_doc d
             ON d.id = v.id
           JOIN doc_type t
             ON t.id = v.doc_type
           JOIN query_term_pub p
             ON p.doc_id = v.id
           JOIN query_term_pub q
             ON q.int_val = d.id
LEFT OUTER JOIN query_term_pub u
             ON u.doc_id = d.id
            and u.path = '/Media/@Usage'
          WHERE t.name = 'Media'
            AND p.path IN ('/Media/PhysicalMedia/ImageData/ImageEncoding',
                           '/Media/PhysicalMedia/SoundData/SoundEncoding')
            AND q.path LIKE '%/@cdr:%ref'
            AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
            AND (u.value = 'External'
                 OR
                 u.value IS NULL)  -- excluding @Usage='Internal'
            AND v.publishable = 'Y'
            AND v.val_status = 'V'
          GROUP BY v.id
          ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <Subdirectory>Media</Subdirectory>
   </SubsetSpecification>

   <!--
   ========================================================================
   Summary documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Summary</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocsPerDocType? v.id, v.num
        FROM doc_version v
        JOIN doc_type t
          ON t.id = v.doc_type
        JOIN (SELECT v.id, MAX(v.num) AS num
                FROM doc_version v
                JOIN active_doc a
                  ON a.id = v.id
               WHERE v.updated_dt &lt;= '?MaxDocUpdatedDate?'
                 AND v.publishable = 'Y'
                 AND v.val_status = 'V'
               GROUP BY v.id) AS p
          ON v.id = p.id
         AND v.num = p.num
       WHERE t.name = 'Summary'
         AND v.id NOT IN (
                          SELECT doc_id
                            FROM query_term_pub
                           WHERE path = '/Summary/WillReplace/@cdr:ref'
                         )
         AND v.id NOT IN (SELECT doc_id
                            FROM query_term_pub
                           WHERE path = '/Summary/@ModuleOnly'
                             AND value = 'Yes'
                         )
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
    ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor Summary Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
    <Subdirectory>Summary</Subdirectory>
   </SubsetSpecification>

   <!--
   ========================================================================
   Term documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Term</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocsPerDocType? v.id, MAX(v.num)
        FROM doc_version v
        JOIN active_doc d
          ON d.id = v.id
        JOIN query_term_pub q
          ON q.doc_id = d.id
       WHERE q.path = '/Term/TermStatus'
         AND q.value IN ('Reviewed-Problematic',
                         'Reviewed-Retain',
                         'Unreviewed')
         AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
    GROUP BY v.id
    ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor Term Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
    <Subdirectory>Terminology</Subdirectory>
   </SubsetSpecification>

  </SubsetSpecifications>

  <SubsetOptions>
   <SubsetOption>
    <OptionName>Destination</OptionName>
    <OptionValue>d:/cdr/Output</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>AbortOnError</OptionName>
    <OptionValue>500</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>


 <SystemSubset>
  <SubsetName>Push_Documents_To_Cancer.Gov_Full-Load</SubsetName>
  <SubsetDescription>
    Push the documents prepared by the latest Full-Load to Cancer.gov.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>SubSetName</ParmName>
    <ParmValue>Full-Load</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Full Load</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PushAllDocs</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>RerunFailedPush</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>IgnoreGKJobIDMismatch</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>
   <SubsetSpecification>
    <SubsetSelection/>
   </SubsetSpecification>
  </SubsetSpecifications>
  <SubsetOptions>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Export</SubsetName>
  <SubsetDescription>
    Produce weekly documents for PDQ partners and incremental updates for Cancer.gov.

    Note:  Run the 'Jobmaster Weekly' scheduled job if you need to run all
           of the steps of the weekend publishing event.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ReportOnly</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ValidateDocs</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>DTDFileName</ParmName>
    <ParmValue>pdqCG.dtd</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>AbortOnError</ParmName>
    <ParmValue>500</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>NumDocsPerDocType</ParmName>
    <ParmValue></ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>MaxDocUpdatedDate</ParmName>
    <ParmValue>JobStartDateTime</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue>Export submitted manually</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>MaxSummaryErrors</ParmName>
    <ParmValue>0</ParmValue>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>

   <!--
   ========================================================================
   DrugInformationSummary documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>DIS</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocsPerDocType? v.id, v.num
        FROM doc_version v
        JOIN doc_type t
          ON t.id = v.doc_type
        JOIN (SELECT v.id, MAX(v.num) AS num
                FROM doc_version v
                JOIN active_doc a
                  ON a.id = v.id
               WHERE v.updated_dt &lt;= '?MaxDocUpdatedDate?'
                 AND v.publishable = 'Y'
                 AND v.val_status = 'V'
               GROUP BY v.id) AS p
          ON v.id = p.id
         AND v.num = p.num
       WHERE t.name = 'DrugInformationSummary'
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
    ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor DrugInfoSummary Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
    <Subdirectory>DrugInfoSummary</Subdirectory>
   </SubsetSpecification>

   <!--
   ========================================================================
   GeneticsProfessional documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>GP</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocsPerDocType? d.id, MAX(v.num)
        FROM doc_version v
        JOIN active_doc d
          ON d.id = v.id
        JOIN doc_type t
          ON t.id = v.doc_type
        JOIN query_term_pub g
          ON g.doc_id = d.id
         AND g.path = '/Person/ProfessionalInformation' +
                      '/GeneticsProfessionalDetails'    +
                      '/AdministrativeInformation'      +
                      '/Directory/Include'
       WHERE t.name = 'Person'
         AND g.value = 'Include'
         AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
    GROUP BY d.id
    ORDER BY d.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor GeneticsProfessional Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
    <Subdirectory>GeneticsProfessional</Subdirectory>
   </SubsetSpecification>

   <!--
   ========================================================================
   GlossaryTerm documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Glossary</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocsPerDocType? v.id, MAX(v.num)
        FROM doc_version v
        JOIN active_doc d
          ON d.id = v.id
        JOIN query_term_pub q
          ON q.doc_id = d.id
       WHERE q.path = '/GlossaryTermName/TermNameStatus'
         AND (q.value = 'Approved'
          OR  q.value = 'Revision pending')
         AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
    GROUP BY v.id
    ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor GlossaryTerm Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
    <Subdirectory>GlossaryTerm</Subdirectory>
   </SubsetSpecification>

   <!--
   ========================================================================
   Media documents
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Media</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
         SELECT TOP ?NumDocsPerDocType? v.id, MAX(v.num)
           FROM doc_version v
           JOIN active_doc d
             ON d.id = v.id
           JOIN doc_type t
             ON t.id = v.doc_type
           JOIN query_term_pub p
             ON p.doc_id = v.id
           JOIN query_term_pub q
             ON q.int_val = d.id
LEFT OUTER JOIN query_term_pub u
             ON u.doc_id = d.id
            and u.path = '/Media/@Usage'
          WHERE t.name = 'Media'
            AND p.path IN ('/Media/PhysicalMedia/ImageData/ImageEncoding',
                           '/Media/PhysicalMedia/SoundData/SoundEncoding')
            AND q.path LIKE '%/@cdr:%ref'
            AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
            AND (u.value = 'External'
                 OR
                 u.value IS NULL)  -- excluding @Usage='Internal'
            AND v.publishable = 'Y'
            AND v.val_status = 'V'
          GROUP BY v.id
          ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <Subdirectory>Media</Subdirectory>
   </SubsetSpecification>

   <!--
   ========================================================================
   Summary documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Summary</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocsPerDocType? v.id, v.num
        FROM doc_version v
        JOIN doc_type t
          ON t.id = v.doc_type
        JOIN (SELECT v.id, MAX(v.num) AS num
                FROM doc_version v
                JOIN active_doc a
                  ON a.id = v.id
               WHERE v.updated_dt &lt;= '?MaxDocUpdatedDate?'
                 AND v.publishable = 'Y'
                 AND v.val_status = 'V'
               GROUP BY v.id) AS p
          ON v.id = p.id
         AND v.num = p.num
       WHERE t.name = 'Summary'
         AND v.id NOT IN (
                          SELECT doc_id
                            FROM query_term_pub
                           WHERE path = '/Summary/WillReplace/@cdr:ref'
                         )
         AND v.id NOT IN (SELECT doc_id
                            FROM query_term_pub
                           WHERE path = '/Summary/@ModuleOnly'
                             AND value = 'Yes'
                         )
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
    ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor Summary Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
    <Subdirectory>Summary</Subdirectory>
   </SubsetSpecification>

   <!--
   ========================================================================
   Term documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Term</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocsPerDocType? v.id, MAX(v.num)
        FROM doc_version v
        JOIN active_doc d
          ON d.id = v.id
        JOIN query_term_pub q
          ON q.doc_id = d.id
       WHERE q.path = '/Term/TermStatus'
         AND q.value IN ('Reviewed-Problematic',
                         'Reviewed-Retain',
                         'Unreviewed')
         AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
    GROUP BY v.id
    ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor Term Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
    <Subdirectory>Terminology</Subdirectory>
   </SubsetSpecification>

  </SubsetSpecifications>

  <SubsetOptions>
   <SubsetOption>
    <OptionName>Destination</OptionName>
    <OptionValue>d:/cdr/Output</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>AbortOnError</OptionName>
    <OptionValue>200</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>

 </SystemSubset>

 <SystemSubset>
  <SubsetName>Push_Documents_To_Cancer.Gov_Export</SubsetName>
  <SubsetDescription>
    Push documents prepared by the latest Export job to Cancer.gov.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>SubSetName</ParmName>
    <ParmValue>Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PushAllDocs</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>RerunFailedPush</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>IgnoreGKJobIDMismatch</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue>Push Export submitted manually</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>
   <SubsetSpecification>
    <SubsetSelection/>
   </SubsetSpecification>
  </SubsetSpecifications>
  <SubsetOptions>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Hotfix-Remove</SubsetName>
  <SubsetDescription>
    Remove manually entered documents and push the remove request to Cancer.gov.
    You have the option to interrupt the process by cancelling the push.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Hotfix (Remove)</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>
   <SubsetSpecification>
    <SubsetSelection>
     <UserSelect/>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>Remove Document Filter</SubsetFilterName>
     </SubsetFilter>
    </SubsetFilters>
   </SubsetSpecification>
  </SubsetSpecifications>
  <SubsetOptions>
   <SubsetOption>
    <OptionName>Destination</OptionName>
    <OptionValue>d:/cdr/Output</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Push_Documents_To_Cancer.Gov_Hotfix-Remove</SubsetName>
  <SubsetDescription>
    Initiate a push of the remove request prepared by the latest Hotfix-Remove.

    Use this option if the Hotfix-Remove process was unable to create the
    push job due to an already existing, incomplete push job or a previously
    cancelled push job.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>SubSetName</ParmName>
    <ParmValue>Hotfix-Remove</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Hotfix (Remove)</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>IgnoreGKJobIDMismatch</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>
   <SubsetSpecification>
    <SubsetSelection/>
   </SubsetSpecification>
  </SubsetSpecifications>
  <SubsetOptions>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Republish-Export</SubsetName>
  <SubsetDescription>
    Filter and validate specified documents and push them to Cancer.gov for
    immediate action.
    The republish-export pushes all documents to Cancer.gov including the ones
    without changes.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Reload</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ReportOnly</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ValidateDocs</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>DTDFileName</ParmName>
    <ParmValue>pdqCG.dtd</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>AbortOnError</ParmName>
    <ParmValue>500</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>MaxDocUpdatedDate</ParmName>
    <ParmValue>JobStartDateTime</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Preview</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
  </SubsetParameters>

  <SubsetSpecifications>

   <!--
   ========================================================================
   DrugInformationSummary documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>DIS</SpecificationName>
    <SubsetSelection>
     <UserSelect>
      <UserSelectDoctype>DrugInformationSummary</UserSelectDoctype>
     </UserSelect>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor DrugInfoSummary Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
   </SubsetSpecification>

   <!--
   ========================================================================
   GeneticsProfessionals documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>GP</SpecificationName>
    <SubsetSelection>
     <UserSelect>
      <UserSelectDoctype>Person</UserSelectDoctype>
     </UserSelect>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor GeneticsProfessional Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
   </SubsetSpecification>

   <!--
   ========================================================================
   GlossaryTerm documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Glossary</SpecificationName>
    <SubsetSelection>
     <UserSelect>
      <UserSelectDoctype>GlossaryTermName</UserSelectDoctype>
     </UserSelect>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor GlossaryTerm Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
   </SubsetSpecification>

   <!--
   ========================================================================
   Media documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Media</SpecificationName>
    <SubsetSelection>
     <UserSelect>
      <UserSelectDoctype>Media</UserSelectDoctype>
     </UserSelect>
    </SubsetSelection>
   </SubsetSpecification>

   <!--
   ========================================================================
   Summary documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Summary</SpecificationName>
    <SubsetSelection>
     <UserSelect>
      <UserSelectDoctype>Summary</UserSelectDoctype>
     </UserSelect>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor Summary Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
   </SubsetSpecification>

   <!--
   ========================================================================
   Term documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Term</SpecificationName>
    <SubsetSelection>
     <UserSelect>
      <UserSelectDoctype>Term</UserSelectDoctype>
     </UserSelect>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor Term Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
   </SubsetSpecification>

  </SubsetSpecifications>

  <SubsetOptions>
   <SubsetOption>
    <OptionName>Destination</OptionName>
    <OptionValue>d:/cdr/Output</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>AbortOnError</OptionName>
    <OptionValue>10</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <!--
 ========================================================================
 Start Sections for individual document types
 Sorted alphabetically
 ======================================================================== -->
 <SystemSubset>
  <SubsetName>Export-DrugInfoSummary</SubsetName>
  <SubsetDescription>
    Create Drug Information Summary documents for PDQ partners and push changes
    to Cancer.gov.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ReportOnly</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ValidateDocs</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>DTDFileName</ParmName>
    <ParmValue>pdqCG.dtd</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>AbortOnError</ParmName>
    <ParmValue>10</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>NumDocs</ParmName>
    <ParmValue></ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>MaxDocUpdatedDate</ParmName>
    <ParmValue>JobStartDateTime</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>

    <!--
   ========================================================================
   DrugInfoSummary documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>DIS</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocs? v.id, v.num
        FROM doc_version v
        JOIN doc_type t
          ON t.id = v.doc_type
        JOIN (SELECT v.id, MAX(v.num) AS num
                FROM doc_version v
                JOIN active_doc a
                  ON a.id = v.id
               WHERE v.updated_dt &lt;= '?MaxDocUpdatedDate?'
                 AND v.publishable = 'Y'
                 AND v.val_status = 'V'
               GROUP BY v.id) AS p
          ON v.id = p.id
         AND v.num = p.num
       WHERE t.name = 'DrugInformationSummary'
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
    ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor DrugInfoSummary Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
   </SubsetSpecification>

  </SubsetSpecifications>

  <SubsetOptions>
   <SubsetOption>
    <OptionName>Destination</OptionName>
    <OptionValue>d:/cdr/Output</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>AbortOnError</OptionName>
    <OptionValue>10</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Push_Documents_To_Cancer.Gov_Export-DrugInfoSummary</SubsetName>
  <SubsetDescription>
    Push documents prepared by the latest Export-DrugInfoSummary job to Cancer.gov.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>SubSetName</ParmName>
    <ParmValue>Export-DrugInfoSummary</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PushAllDocs</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>RerunFailedPush</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>IgnoreGKJobIDMismatch</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>
   <SubsetSpecification>
    <SubsetSelection/>
   </SubsetSpecification>
  </SubsetSpecifications>
  <SubsetOptions>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Export-GENETICSPROFESSIONAL</SubsetName>
  <SubsetDescription>
    Create Genetics Professional documents for PDQ partners and push changes
    to Cancer.gov.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ReportOnly</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ValidateDocs</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>DTDFileName</ParmName>
    <ParmValue>pdqCG.dtd</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>AbortOnError</ParmName>
    <ParmValue>10</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>NumDocs</ParmName>
    <ParmValue></ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>MaxDocUpdatedDate</ParmName>
    <ParmValue>JobStartDateTime</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>

    <!--
   ========================================================================
   GeneticsProfessional documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>GP</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocs? d.id, MAX(v.num)
        FROM doc_version v
        JOIN active_doc d
          ON d.id = v.id
        JOIN doc_type t
          ON t.id = v.doc_type
        JOIN query_term_pub g
          ON g.doc_id = d.id
         AND g.path = '/Person/ProfessionalInformation' +
                      '/GeneticsProfessionalDetails'    +
                      '/AdministrativeInformation'      +
                      '/Directory/Include'
       WHERE t.name = 'Person'
         AND g.value = 'Include'
         AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
    GROUP BY d.id
    ORDER BY d.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor GeneticsProfessional Set</SubsetFilterName>
     </SubsetFilter>
    </SubsetFilters>
   </SubsetSpecification>

  </SubsetSpecifications>

  <SubsetOptions>
   <SubsetOption>
    <OptionName>Destination</OptionName>
    <OptionValue>d:/cdr/Output</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>AbortOnError</OptionName>
    <OptionValue>10</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Push_Documents_To_Cancer.Gov_Export-GENETICSPROFESSIONAL</SubsetName>
  <SubsetDescription>
    Push documents prepared by the latest Export-GENETICSPROFESSIONAL job
    to Cancer.gov.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>SubSetName</ParmName>
    <ParmValue>Export-GENETICSPROFESSIONAL</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PushAllDocs</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>RerunFailedPush</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>IgnoreGKJobIDMismatch</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>
   <SubsetSpecification>
    <SubsetSelection/>
   </SubsetSpecification>
  </SubsetSpecifications>
  <SubsetOptions>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Export-GlossaryTerm</SubsetName>
  <SubsetDescription>
    Create Glossary Term documents for PDQ partners and push changes
    to Cancer.gov. (TermNameStatus = "Approved | Revision pending")
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ReportOnly</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ValidateDocs</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>DTDFileName</ParmName>
    <ParmValue>pdqCG.dtd</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>AbortOnError</ParmName>
    <ParmValue>50</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>NumDocs</ParmName>
    <ParmValue></ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>MaxDocUpdatedDate</ParmName>
    <ParmValue>JobStartDateTime</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>

    <!--
   ========================================================================
   GlossaryTerm documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Glossary</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocs? v.id, MAX(v.num)
        FROM doc_version v
        JOIN active_doc d
          ON d.id = v.id
        JOIN query_term_pub q
          ON q.doc_id = d.id
       WHERE q.path = '/GlossaryTermName/TermNameStatus'
         AND (q.value = 'Approved'
          OR  q.value = 'Revision pending')
         AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
    GROUP BY v.id
    ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor GlossaryTerm Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
   </SubsetSpecification>

  </SubsetSpecifications>

  <SubsetOptions>
   <SubsetOption>
    <OptionName>Destination</OptionName>
    <OptionValue>d:/cdr/Output</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>AbortOnError</OptionName>
    <OptionValue>50</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Push_Documents_To_Cancer.Gov_Export-GlossaryTerm</SubsetName>
  <SubsetDescription>
    Push documents prepared by the latest Export-GlossaryTerm job to Cancer.gov.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>SubSetName</ParmName>
    <ParmValue>Export-GlossaryTerm</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PushAllDocs</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>RerunFailedPush</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>IgnoreGKJobIDMismatch</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>
   <SubsetSpecification>
    <SubsetSelection/>
   </SubsetSpecification>
  </SubsetSpecifications>
  <SubsetOptions>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Export-Media</SubsetName>
  <SubsetDescription>
    Create Media documents for PDQ partners and push changes
    to Cancer.gov. (Media documents linked to by publishable documents only)
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ReportOnly</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ValidateDocs</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>DTDFileName</ParmName>
    <ParmValue>pdqCG.dtd</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>AbortOnError</ParmName>
    <ParmValue>50</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>NumDocs</ParmName>
    <ParmValue></ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>MaxDocUpdatedDate</ParmName>
    <ParmValue>JobStartDateTime</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>

   <!--
   ========================================================================
   Media documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Media</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
         SELECT TOP ?NumDocs? v.id, MAX(v.num)
           FROM doc_version v
           JOIN active_doc d
             ON d.id = v.id
           JOIN doc_type t
             ON t.id = v.doc_type
           JOIN query_term_pub p
             ON p.doc_id = v.id
           JOIN query_term_pub q
             ON q.int_val = d.id
LEFT OUTER JOIN query_term_pub u
             ON u.doc_id = d.id
            and u.path = '/Media/@Usage'
          WHERE t.name = 'Media'
            AND p.path IN ('/Media/PhysicalMedia/ImageData/ImageEncoding',
                           '/Media/PhysicalMedia/SoundData/SoundEncoding')
            AND q.path LIKE '%/@cdr:%ref'
            AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
            AND (u.value = 'External'
                 OR
                 u.value IS NULL)  -- excluding @Usage='Internal'
            AND v.publishable = 'Y'
            AND v.val_status = 'V'
          GROUP BY v.id
          ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
   </SubsetSpecification>
  </SubsetSpecifications>

  <SubsetOptions>
   <SubsetOption>
    <OptionName>Destination</OptionName>
    <OptionValue>d:/cdr/Output</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>AbortOnError</OptionName>
    <OptionValue>50</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Push_Documents_To_Cancer.Gov_Export-Media</SubsetName>
  <SubsetDescription>
    Push documents prepared by the latest Export-Media job to Cancer.gov.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>SubSetName</ParmName>
    <ParmValue>Export-Media</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PushAllDocs</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>RerunFailedPush</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>IgnoreGKJobIDMismatch</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>
   <SubsetSpecification>
    <SubsetSelection/>
   </SubsetSpecification>
  </SubsetSpecifications>
  <SubsetOptions>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Export-Summary</SubsetName>
  <SubsetDescription>
    Create Summary documents for PDQ partners and push changes to Cancer.gov.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ReportOnly</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ValidateDocs</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>DTDFileName</ParmName>
    <ParmValue>pdqCG.dtd</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>AbortOnError</ParmName>
    <ParmValue>50</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>NumDocs</ParmName>
    <ParmValue></ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>MaxDocUpdatedDate</ParmName>
    <ParmValue>JobStartDateTime</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>

    <!--
   ========================================================================
   Summary documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Summary</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocs? v.id, v.num
        FROM doc_version v
        JOIN doc_type t
          ON t.id = v.doc_type
        JOIN (SELECT v.id, MAX(v.num) AS num
                FROM doc_version v
                JOIN active_doc a
                  ON a.id = v.id
               WHERE v.updated_dt &lt;= '?MaxDocUpdatedDate?'
                 AND v.publishable = 'Y'
                 AND v.val_status = 'V'
               GROUP BY v.id) AS p
          ON v.id = p.id
         AND v.num = p.num
       WHERE t.name = 'Summary'
         AND v.id NOT IN (
                          SELECT doc_id
                            FROM query_term_pub
                           WHERE path = '/Summary/WillReplace/@cdr:ref'
                         )
         AND v.id NOT IN (SELECT doc_id
                            FROM query_term_pub
                           WHERE path = '/Summary/@ModuleOnly'
                             AND value = 'Yes'
                         )
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
    ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor Summary Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
   </SubsetSpecification>

  </SubsetSpecifications>

  <SubsetOptions>
   <SubsetOption>
    <OptionName>Destination</OptionName>
    <OptionValue>d:/cdr/Output</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>AbortOnError</OptionName>
    <OptionValue>50</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Push_Documents_To_Cancer.Gov_Export-Summary</SubsetName>
  <SubsetDescription>
    Push documents prepared by the latest Export-Summary job to Cancer.gov.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>SubSetName</ParmName>
    <ParmValue>Export-Summary</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PushAllDocs</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>RerunFailedPush</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>IgnoreGKJobIDMismatch</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>
   <SubsetSpecification>
    <SubsetSelection/>
   </SubsetSpecification>
  </SubsetSpecifications>
  <SubsetOptions>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Export-Term</SubsetName>
  <SubsetDescription>
    Create Terminology documents for PDQ partners and push changes to Cancer.gov.
    (TermStatus in ('Reviewed-Problematic', 'Reviewed-Retain', 'Unreviewed'))
    and push them to Cancer.gov.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ReportOnly</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>ValidateDocs</ParmName>
    <ParmValue>Yes</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>DTDFileName</ParmName>
    <ParmValue>pdqCG.dtd</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>AbortOnError</ParmName>
    <ParmValue>20</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>NumDocs</ParmName>
    <ParmValue></ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>MaxDocUpdatedDate</ParmName>
    <ParmValue>JobStartDateTime</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>

    <!--
   ========================================================================
   Term documents.
   ======================================================================== -->
   <SubsetSpecification>
    <SpecificationName>Term</SpecificationName>
    <SubsetSelection>
     <SubsetSQL>
      SELECT TOP ?NumDocs? v.id, MAX(v.num)
        FROM doc_version v
        JOIN active_doc d
          ON d.id = v.id
        JOIN query_term_pub q
          ON q.doc_id = d.id
       WHERE q.path = '/Term/TermStatus'
         AND q.value IN ('Reviewed-Problematic',
                         'Reviewed-Retain',
                         'Unreviewed')
         AND v.updated_dt &lt;= '?MaxDocUpdatedDate?'
         AND v.publishable = 'Y'
         AND v.val_status = 'V'
    GROUP BY v.id
    ORDER BY v.id
     </SubsetSQL>
    </SubsetSelection>
    <SubsetFilters>
     <SubsetFilter>
      <SubsetFilterName>set:Vendor Term Set</SubsetFilterName>
     </SubsetFilter>
     <SubsetFilterParm>
      <ParmName>DateFirstPub</ParmName>
      <ParmValue/>
     </SubsetFilterParm>
    </SubsetFilters>
   </SubsetSpecification>

  </SubsetSpecifications>

  <SubsetOptions>
   <SubsetOption>
    <OptionName>Destination</OptionName>
    <OptionValue>d:/cdr/Output</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>AbortOnError</OptionName>
    <OptionValue>20</OptionValue>
   </SubsetOption>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <SystemSubset>
  <SubsetName>Push_Documents_To_Cancer.Gov_Export-Term</SubsetName>
  <SubsetDescription>
    Push documents prepared by the latest Export-Term job to Cancer.gov.
  </SubsetDescription>
  <SubsetParameters>
   <SubsetParameter>
    <ParmName>SubSetName</ParmName>
    <ParmValue>Export-Term</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PubType</ParmName>
    <ParmValue>Export</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>PushAllDocs</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>RerunFailedPush</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>IgnoreGKJobIDMismatch</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPubTarget</ParmName>
    <ParmValue>Live</ParmValue>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKServer</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>GKPushJobDescription</ParmName>
    <ParmValue/>
   </SubsetParameter>
   <SubsetParameter>
    <ParmName>InteractiveMode</ParmName>
    <ParmValue>No</ParmValue>
   </SubsetParameter>
  </SubsetParameters>
  <SubsetSpecifications>
   <SubsetSpecification>
    <SubsetSelection/>
   </SubsetSpecification>
  </SubsetSpecifications>
  <SubsetOptions>
   <SubsetOption>
    <OptionName>PublishIfWarnings</OptionName>
    <OptionValue>Yes</OptionValue>
   </SubsetOption>
  </SubsetOptions>
 </SystemSubset>

 <ParmInfoSet>
  <ParmInfo>
   <ParmInfoName>AbortOnError</ParmInfoName>
   <ParmInfoHelp>
'Yes' to abort for any error
'No' to suppress abort on errors
or an integer to specify how many errors
can occur before stopping
   </ParmInfoHelp>
   <ParmInfoMethod>yes_no_int</ParmInfoMethod>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>PushAllDocs</ParmInfoName>
   <ParmInfoHelp>
'Yes' causes every document in the export set to be pushed to cancer.gov,
   regardless of whether or not an identical version is already there.
'No' causes each document to be compared to what's on cancer.gov (using the
   CDR pub_proc_cg table) and only push those that have changed.
Note: You must run the Push job manually, not automatically after an Export,
   in order to modify this parameter value.
   </ParmInfoHelp>
   <ParmInfoValidValues>
    <ParmInfoValidValue>Yes</ParmInfoValidValue>
    <ParmInfoValidValue>No</ParmInfoValidValue>
   </ParmInfoValidValues>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>DTDFileName</ParmInfoName>
   <ParmInfoHelp>
DTD to be used to validate each document.
Assumed to be in /cdr/Licensee on the CDR drive.
   </ParmInfoHelp>
   <ParmInfoMethod>dtd</ParmInfoMethod>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>GKPubTarget</ParmInfoName>
   <ParmInfoHelp>
How far should the documents be pushed? (GateKeeper, Preview, or Live)
   </ParmInfoHelp>
   <ParmInfoValidValues>
    <ParmInfoValidValue>GateKeeper</ParmInfoValidValue>
    <ParmInfoValidValue>Preview</ParmInfoValidValue>
    <ParmInfoValidValue>Live</ParmInfoValidValue>
   </ParmInfoValidValues>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>GKPushJobDescription</ParmInfoName>
   <ParmInfoHelp>
Brief message indicating the purpose of the publishing job.
Sent as part of the push job to GateKeeper.
   </ParmInfoHelp>
   <ParmInfoPattern>^.{0,1024}$</ParmInfoPattern>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>GKServer</ParmInfoName>
   <ParmInfoHelp>
Host name of GateKeeper server to which documents should be pushed.
If a name which is not a fully qualified domain name (FQDN) is
entered '.cancer.gov' will be assumed.
   </ParmInfoHelp>
   <ParmInfoMethod>server_name</ParmInfoMethod>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>IgnoreGKJobIDMismatch</ParmInfoName>
   <ParmInfoHelp>
If 'Yes' the job proceeds even if the CDR and GateKeeper
have different IDs for that last successful job.
Usually defaults to 'No'.
Ignored on non-production tiers, where mismatches
are common and never cause a push job to abort.
   </ParmInfoHelp>
   <ParmInfoValidValues>
    <ParmInfoValidValue>Yes</ParmInfoValidValue>
    <ParmInfoValidValue>No</ParmInfoValidValue>
   </ParmInfoValidValues>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>InteractiveMode</ParmInfoName>
   <ParmInfoHelp>
If 'Yes' let the operator review a queued push job before
releasing it; otherwise the job proceeds without waiting
for approval.
   </ParmInfoHelp>
   <ParmInfoValidValues>
    <ParmInfoValidValue>Yes</ParmInfoValidValue>
    <ParmInfoValidValue>No</ParmInfoValidValue>
   </ParmInfoValidValues>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>MaxDocUpdatedDate</ParmInfoName>
   <ParmInfoHelp>
Sent to the filtering module to restrict publication
to the latest publishable versions of the documents
saved earlier than the date specified; an ISO date
or the string 'JobStartDateTime' indicating the value
in the started column of the job's row in the
pub_proc table. Examples:

  2015-07-01
  2015-07-01 14:30
  2015-07-01 14:33:07
  JobStartDateTime
   </ParmInfoHelp>
   <ParmInfoMethod>job_date</ParmInfoMethod>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>NumDocs</ParmInfoName>
   <ParmInfoHelp>
Maximum number of documents to be processed for the
entire job. Used for publishing job types dedicated
to publishing documents of a single type. Leave blank
to publish the entire set.
   </ParmInfoHelp>
   <ParmInfoMethod>integer</ParmInfoMethod>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>NumDocsPerDocType</ParmInfoName>
   <ParmInfoHelp>
Maximum number of documents to be processed for each
document type in a job which can publish documents of
more than one document type. Leave blank for no limit.
   </ParmInfoHelp>
   <ParmInfoMethod>integer</ParmInfoMethod>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>PubType</ParmInfoName>
   <ParmInfoHelp>
Read-only field with one of the following values:
   Full Load
   Hotfix (Export)
   Export
   Hotfix (Remove)
   Reload

For more details see PUBTYPES in cdr.py.
   </ParmInfoHelp>
   <ParmInfoMethod>pubtype</ParmInfoMethod>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>ReportOnly</ParmInfoName>
   <ParmInfoHelp>
If set to 'Yes' the job will be marked with 'Failure' status,
creating a push job to Cancer.gov will be suppressed, and the
first_pub column of the document table will not be modified.
Used for pre-publishing reports.
   </ParmInfoHelp>
   <ParmInfoValidValues>
    <ParmInfoValidValue>Yes</ParmInfoValidValue>
    <ParmInfoValidValue>No</ParmInfoValidValue>
   </ParmInfoValidValues>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>RerunFailedPush</ParmInfoName>
   <ParmInfoHelp>
If set to 'Yes' the publishing system will attempt to try again
to push the documents for the most recent push job.
Used when a push job fails.
   </ParmInfoHelp>
   <ParmInfoValidValues>
    <ParmInfoValidValue>Yes</ParmInfoValidValue>
    <ParmInfoValidValue>No</ParmInfoValidValue>
   </ParmInfoValidValues>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>SubSetName</ParmInfoName>
   <ParmInfoHelp>
Read-only field identifying the corresponding
export job's type for a push job.
   </ParmInfoHelp>
   <ParmInfoPattern>^[A-Za-z-]+$</ParmInfoPattern>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>ValidateDocs</ParmInfoName>
   <ParmInfoHelp>
If set to 'No' the DTD validation of the exported documents will be suppressed.
Defaults to 'Yes' for regular publishing jobs and vendor QC reports.
Defaults to 'No' for other QC reports.
   </ParmInfoHelp>
   <ParmInfoValidValues>
    <ParmInfoValidValue>Yes</ParmInfoValidValue>
    <ParmInfoValidValue>No</ParmInfoValidValue>
   </ParmInfoValidValues>
  </ParmInfo>
  <!-- The following parameters appear on the confirmation page for
       a publishing job request. -->
  <ParmInfo>
   <ParmInfoName>notify</ParmInfoName>
   <ParmInfoHelp>
Indicate whether you would like to receive email
notification when the publishing job has completed.
   </ParmInfoHelp>
   <ParmInfoValidValues>
    <ParmInfoValidValue>Yes</ParmInfoValidValue>
    <ParmInfoValidValue>No</ParmInfoValidValue>
   </ParmInfoValidValues>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>email</ParmInfoName>
   <ParmInfoHelp>
You can provide more than one email address.
Separate multiple addresses with commas or
semicolons.
   </ParmInfoHelp>
   <ParmInfoPattern>.+@.+[.].+</ParmInfoPattern>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>no-output</ParmInfoName>
   <ParmInfoHelp>
"Yes" to have the documents filtered and possibly validated
but not written to the file system. This option is ignored for
"push" jobs. Useful to find out if any of the documents to be
published are invalid or not well-formed.
   </ParmInfoHelp>
   <ParmInfoValidValues>
    <ParmInfoValidValue>Yes</ParmInfoValidValue>
    <ParmInfoValidValue>No</ParmInfoValidValue>
   </ParmInfoValidValues>
  </ParmInfo>
  <ParmInfo>
   <ParmInfoName>MaxSummaryErrors</ParmInfoName>
   <ParmInfoHelp>
If the number of summaries with errors exceeds this value,
the publishing job will be aborted and marked as failed.
Used for the nightly/weekly export jobs.
   </ParmInfoHelp>
   <ParmInfoPattern>.+@.+[.].+</ParmInfoPattern>
  </ParmInfo>
 </ParmInfoSet>

</PublishingSystem>
